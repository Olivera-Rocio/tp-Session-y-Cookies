<!DOCTYPE html>
<html lang="en">

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <title>
        Session y Cookies
    </title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
</head>

<body style="background-color: <%= locals.colorFondo ? locals.colorFondo : null %>;">

    <main class="container mb-3">
        <div class="row">
            <div class="col-12 col-md-10 col-lg-8 mt-5 mx-auto">
                <div class="card shadow">

                    <div class="card-header text-center" style="background-color: #000000">
                        <h4 style="color: #fafafa">Â¡Bienvenido a Session y Cookies!</h4>
                    </div>

                    <div class="card-body ">
                        <% if (locals.name) { %>
                            <div class="text-center mb-4">
                                <h5>"Hola <%= name %>"</h5>
                                <h6>Elegiste el color: <%= color %>
                                </h6>
                                <h6>Tu email es: <%= email %>
                                </h6>
                                <h6>Tu edad es: <%= edad %>
                                </h6>
                            </div>

                            <div class="d-flex justify-content-center mb-2">
                                <a href="/logout" class="btn btn-success" type="submit">
                                    Salir
                                </a>
                            </div>

                            <% }else{ %>
                                <form class="row m-3" method="POST">

                                    <div class="col-12 mt-3">
                                        <div class="form-floating">
                                            <input class="form-control" type="text" id="name" name="name"
                                                placeholder="Ingrese su nombre:"
                                                value="<%= locals.old && old.name ? old.name : null %>">
                                            <label for="name">Ingrese su nombre:</label>
                                        </div>
                                        <span class="text-danger small">
                                            <%= locals.errors && errors.name ? errors.name.msg : null %>
                                        </span>
                                    </div>

                                    <div class="col-12 mt-3">
                                        <div class="form-floating">
                                            <select class="form-select" id="color"
                                                aria-label="Floating label select example" name="color">
                                                <option value="<%= locals.old && old.color ? old.color : null %>"
                                                    selected hidden>Seleccione un color:</option>
                                                <option value="blue">Azul</option>
                                                <option value="purple">Purpura</option>
                                                <option value="pink">Rosa</option>
                                                <option value="cyan">Cian</option>
                                            </select>
                                            <span class="text-danger small">
                                                <%= locals.errors && errors.color ? errors.color.msg : null %>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="col-12 mt-3">
                                        <div class="form-floating">
                                            <input class="form-control" type="text" id="edad" name="edad"
                                                placeholder="Ingrese su edad:"
                                                value="<%= locals.old && old.edad ? old.edad : null %>">
                                            <label for="edad">Ingrese su edad:</label>
                                            <span class="text-danger small">
                                                <%= locals.errors && errors.edad ? errors.edad.msg : null %>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="col-12 mt-3">
                                        <div class="form-floating">
                                            <input type="email" class="form-control" id="email" name="email"
                                                placeholder="Ingrese su email:"
                                                value="<%= locals.old && old.email ? old.email : null %>">
                                            <label for="email">Ingrese su email:</label>
                                        </div>
                                        <span class="text-danger small">
                                            <%= locals.errors && errors.email ? errors.email.msg : null %>
                                        </span>
                                    </div>

                                    <div class="mt-3 text-end mb-3">
                                        <input type="checkbox" id="remember" name="remember">
                                        <label for="remember">Recordar color</label>
                                    </div>

                                    <div class="d-flex justify-content-center ">
                                        <div class="m-1">
                                            <button class="btn btn-success" type="submit">
                                                Enviar
                                            </button>
                                        </div>

                                        <div class="m-1">
                                            <a href="/destroy" class="btn btn-danger">
                                                Olvidar color
                                            </a>
                                        </div>
                                    </div>

                                </form>
                                <% } %>
                    </div>

                </div>

            </div>

        </div>
    </main>



</body>

</html>